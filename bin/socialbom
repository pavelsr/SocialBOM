#!perl

package socialbom;

# ABSTRACT: SocialBOM CLI tool

use common::sense;
use Net::EmptyPort qw(empty_port);
use Mojolicious::Commands;
use Data::Dumper;
#use Mojo::Server::Morbo;
use App::SocialBOM;
use feature 'say';

#my $morbo = Mojo::Server::Morbo->new;
my $app_path = $INC{"App/SocialBOM.pm"};
my $app = 'App::SocialBOM';

say "Going to run Mojo::Server::Morbo for ".$app_path;
# $morbo->run($app_path);

my $port = empty_port(3000);
Mojolicious::Commands->start_app($app, 'daemon', '-l', 'http://*:'.$port);


# my $app = 'App::SocialBOM';
# my $module = $app;
# $module =~ s/::/\//g;
# $module =~ s/$/.pm/;
# warn $module;
# my $app_path = $INC{$module};

# warn Dumper $app_path;
# my $port = 3000;

# if ($ARGV[0] eq 'morbo') {
	# $port = empty_port(3000);
	# Mojolicious::Commands->start_app($app, 'daemon', '-l', 'http://*:'.$port);
# }

# if ($ARGV[0] eq 'hypnotoad') {
# if ($ARGV[0] eq 'ubic') {


#Mojolicious::Commands->start_app('App::SocialBOM');
